<html>
  <body>
    <script type='text/javascript'>
//     Y(F) = F(Y(F))
//     Note that Y does not reference itself:
  
      var Y = function (F) {
        return (function (x) {
          return F(function (y) { return (x(x))(y);});
        })(function (x){
             return F(function (y) { return (x(x))(y);});
           });
      };

    // (In fact, all functions above are anonymous!)
  
      var FactGen = function (fact) {
        return (function(n) {
          return ((n == 0) ? 1 : (n*fact(n-1))) ;
        });
      };

      document.writeln( (Y(FactGen))(6) );
      
    // Ymem takes a functional and an (optional)
    // cache of answers.

    // It returns the fixed point of the functional
    // that caches intermediate results.
  
      function Ymem(F, cache) {
        if (!cache)
          cache = {} ; // Create a new cache.
        return function(arg) {
          if (cache[arg])
            return cache[arg] ; // Answer in cache.
          var answer = (F(function(n){
            return (Ymem(F,cache))(n);
          }))(arg) ; // Compute the answer.
          cache[arg] = answer ; // Cache the answer.
          return answer ;
        } ;
      }

      var fib = Ymem(function (g) { return (function (n) {
        if (n == 0) return 0 ;
        if (n == 1) return 1 ;
        return g(n-1) + g(n-2) ;
      }) ; }) ;

    </script>
  </body>
</html>
